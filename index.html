<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Simple Calculator</title>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjs@11.1.0/lib/browser/math.min.js"></script>

<script type="text/JavaScript"> 
function calculate(){
  expression = document.getElementById("expression").value;
  console.log(expression)
  if(expression){
    try {
      answer = eval(expression);
  document.getElementById("expression").value = answer;
  addlog(expression + "=" + answer);
  } catch(e){
    console.log("Bad Expression")
    addlog(expression + "is bad. Please fix it.")
  }
    }

} 

function addlog(msg){
    var ul = document.getElementById("log")
    var li = document.createElement("li")
    var msg_text_node =document.createTextNode(msg)
    li.appendChild(msg_text_node)
    ul.appendChild(li)
  }

  function math_calculate(){
    expression = document.getElementById("expression").value;
    console.log(expression)
    if(expression){
      try {
        answer = math.evaluate(expression);
        console.log(answer);
    document.getElementById("expression").value = answer;
    addlog(expression + "=" + answer);
    } catch(e){
      console.log("Bad Expression")
      addlog("math " + expression + "is bad. Please fix it.")
    }
      }
  } 

  function intialize_app(){
    calculate_button = document.getElementById("calculate")
    calculate_button.addEventListener("click", math_calculate)
  }


</script>

    </head>
    <body onload="intialize_app()">
        <div class="container">
            <div class="row">
              <div class="col">
                
              </div>
              <div class="col">
                <input type ="text" id="expression" class="form-control" placeholder="Enter Expression"></input>
                <button id="calculate" class="btn btn-primary">Calculate</button>
                <h3>Logs</h3>
                <ul id="log">
                  
                </ul>
              </div>
              <div class="col">
                
              </div>
            </div>
          </div>

    </body>
</html>
